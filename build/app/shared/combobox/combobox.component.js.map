{"version":3,"sources":["app/shared/combobox/combobox.component.ts"],"names":[],"mappings":"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","file":"app/shared/combobox/combobox.component.js","sourcesContent":["import { Component, OnInit, OnDestroy, Input, Output, EventEmitter,  Provider, forwardRef } from '@angular/core';\r\nimport { NgIf, NgClass } from '@angular/common'\r\n\r\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\r\n\r\n// import { Http } from '@angular/http';\r\n// import { Observable } from 'rxjs/Observable';\r\n\r\nimport { ValueFilterPipe } from '../../common/pipes/value-filter.pipe';\r\nimport { TranslatePipe } from 'ng2-translate';\r\n\r\nconst noop = () => {\r\n    // console.log('noop');\r\n\r\n};\r\n\r\nexport const COMBOBOX_CONTROL_VALUE_ACCESSOR: any = {\r\n    provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(() => ComboboxComponent),\r\n    multi: true\r\n};\r\n\r\n@Component({\r\n    moduleId: module.id,\r\n    selector: 'wblg-combobox',\r\n    templateUrl: './combobox.component.html',\r\n    // styleUrls: ['./combobox.component.css'],\r\n    directives: [NgIf, NgClass],\r\n    pipes: [ValueFilterPipe, TranslatePipe],\r\n    providers: [COMBOBOX_CONTROL_VALUE_ACCESSOR]\r\n})\r\n\r\n\r\nexport class ComboboxComponent implements ControlValueAccessor {\r\n    @Input() data: string[] = [];\r\n    @Input() dropdown: boolean = false;\r\n    @Input('id') idName: string = 'comboboxID';\r\n\r\n    //The internal data model\r\n    private innerValue: any = '';\r\n\r\n    // private message: string;\r\n    private isOpenedMenu: boolean;\r\n    // private classSettingsObj: any;\r\n\r\n    //Placeholders for the callbacks which are later providesd\r\n    //by the Control Value Accessor\r\n    private onTouchedCallback: () => void = noop;\r\n    private onChangeCallback: (_: any) => void = noop;\r\n\r\n    constructor() {\r\n        this.data = [];\r\n    }\r\n\r\n\r\n    public SelectElement(elem: string): void {\r\n        this.value = elem;\r\n        if (elem === 'No data present') {\r\n            this.value = '';\r\n        }\r\n        this.ToogleMenu(false);\r\n    }\r\n\r\n    public ToogleMenu(state: boolean): void {\r\n        if (state) { this.value = ''; }\r\n\r\n        if (this.dropdown) {\r\n            this.isOpenedMenu = state;\r\n        }\r\n        \r\n\r\n    }\r\n\r\n    //get accessor\r\n    get value(): any {\r\n        return this.innerValue;\r\n    };\r\n\r\n    //set accessor including call the onchange callback\r\n    set value(v: any) {\r\n        if (v !== this.innerValue) {\r\n            this.innerValue = v;\r\n            this.onChangeCallback(v);\r\n        }\r\n    }\r\n\r\n    //Set touched on blur\r\n    onBlur() {\r\n        this.onTouchedCallback();\r\n    }\r\n\r\n    //From ControlValueAccessor interface\r\n    writeValue(value: any) {\r\n        if (value !== this.innerValue) {\r\n            this.innerValue = value;\r\n        }\r\n    }\r\n\r\n    //From ControlValueAccessor interface\r\n    registerOnChange(fn: any) {\r\n        this.onChangeCallback = fn;\r\n    }\r\n\r\n    //From ControlValueAccessor interface\r\n    registerOnTouched(fn: any) {\r\n        this.onTouchedCallback = fn;\r\n    }\r\n}\r\n\r\n"],"sourceRoot":"/source/"}